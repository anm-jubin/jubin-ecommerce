<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RelaxDays BD</title>
  
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    
    //Add CSS for page navigation
    /* Page navigation styles */
    .page {
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .page.active {
      display: block;
      opacity: 1;
    }
    
    /* Floating cart button */
    .floating-cart {
      position: fixed;
      bottom: 100px;
      right: 20px;
      background-color: #4CAF50;
      color: white;
      padding: 10px 15px;
      border-radius: 30px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      cursor: pointer;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: transform 0.3s ease;
    }
    
    .floating-cart:hover {
      transform: scale(1.05);
    }
    
    .cart-count {
      position: absolute;
      top: -10px;
      right: -10px;
      background-color: red;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
    }
    
    .cart-icon {
      font-size: 20px;
    }
    
    
    
    /* Product buttons */
    .product-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }
    
    .add-to-cart-btn {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 12px 15px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      width: 100%;
      transition: background-color 0.3s ease;
    }
    
    .add-to-cart-btn:hover {
      background-color: #45a049;
    }
    
    .buy-now-btn {
      background-color: #FF9800;
      color: white;
      border: none;
      padding: 12px 15px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      width: 100%;
      transition: background-color 0.3s ease;
    }
    
    .buy-now-btn:hover {
      background-color: #F57C00;
    }
    
    /* Navigation buttons */
    .navigation-buttons {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      padding: 10px;
    }
    
    .navigation-btn {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      font-size: 16px;
      transition: background-color 0.3s;
    }
    
    .navigation-btn:hover {
      background-color: #45a049;
    }
    
    .back-btn {
      background-color: #f1f1f1;
      color: #333;
      margin-bottom: 15px;
    }
    
    .back-btn:hover {
      background-color: #ddd;
    }
    
    /* Cart notification */
    #cart-notification {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 1001;
      transition: opacity 0.5s;
      opacity: 0;
    }
    
    /* Page titles */
    .page h2 {
      margin-top: 0;
      margin-bottom: 20px;
      color: #333;
      border-bottom: 2px solid #4CAF50;
      padding-bottom: 10px;
    }
    
    //Whatsapp message button pop up
    @keyframes bounce {
      
      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(0);
      }
      
      40% {
        transform: translateY(-10px);
      }
      
      60% {
        transform: translateY(-5px);
      }
    }
    
    .whatsapp-bounce {
      animation: bounce 0.8s ease;
    }
    
    /* Add this for the close button on WhatsApp */
    .whatsapp-close {
      position: absolute;
      top: -8px;
      right: -8px;
      width: 20px;
      height: 20px;
      background-color: #f44336;
      color: white;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
      cursor: pointer;
      z-index: 1001;
    }
    
    
    .empty-space {
      
      height: 200px;
      /* Adjust height as needed */
      
      background-color: transparent;
      /* Make it invisible if desired */
      
    }
    
    .add-to-cart-btn {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 10px 15px;
      margin-top: 10px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      width: 100%;
    }
    
    .add-to-cart-btn:hover {
      background-color: #45a049;
    }
    
    
    
    
    // Add this to the navStyles.innerHTML in the initializeApp function
    .buttons-row {
      display: flex;
      justify-content: space-between;
      width: 100%;
    }
    
    .add-to-cart-btn,
    .buy-now-btn {
      padding: 8px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      flex: 1;
      margin: 0 5px;
    }
    
    .product-buttons {
      display: block;
      margin-top: 10px;
      width: 100%;
    }
  </style>
  
  <style>
    /* Main product container styling */
    .product-container {
      display: flex;
      align-items: flex-start;
      gap: 2px;
      padding: 8px;
      /* Reduced padding from 10px */
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-bottom: 15px;
      /* Reduced from 20px */
      position: relative;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      /* Setting max-height to make product card shorter */
      max-height: 450px;
    }
    
    .product-container:hover {
      transform: translateY(-3px);
      /* Reduced from -5px */
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
    }
    
    /* Products grid layout */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      /* Desktop layout */
      gap: 15px;
      /* Reduced gap from 20px */
      margin-bottom: 15px;
    }
    
    /* Mobile layout - This is the key change for two products per row */
    @media (max-width: 768px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
        /* Forces two columns on all mobile screens */
        gap: 10px;
        /* Smaller gap on mobile */
      }
      
      /* More compact layout for small screens */
      .product-container {
        padding: 5px;
        margin-bottom: 10px;
      }
      
      /* Making product details more compact */
      .product-name {
        font-size: 14px;
        /* Smaller font */
        margin-top: 5px;
        margin-bottom: 5px;
      }
      
      .product-price {
        margin-bottom: 5px;
        /* Reduced from 10px */
      }
      
      .original-price,
      .discounted-price {
        font-size: 14px;
        /* Smaller font */
      }
      
      /* Make images smaller on mobile */
      .product-image {
        flex-basis: 120px;
        /* Smaller base size */
      }
    }
    
    /* Keep the very small screen layout as a fallback */
    @media (max-width: 480px) {
      
      /* Keep two columns even on very small screens, but adapt spacing */
      .products-grid {
        gap: 8px;
        /* Even smaller gap */
      }
      
      /* Further reduce padding */
      .product-container {
        padding: 4px;
      }
      
      /* Smaller font sizes */
      .product-name {
        font-size: 12px;
      }
      
      .original-price,
      .discounted-price {
        font-size: 12px;
      }
    }
    
    /* Checkbox container styling */
    .checkbox-container {
      display: none;
    }
    
    
    
    
    /* Product image styling - made more compact */
    .product-image {
      flex-basis: 140px;
      /* Reduced from 150px */
      flex-shrink: 0;
    }
    
    .product-image img {
      width: 100%;
      height: auto;
    }
    
    /* Product details styling - more compact */
    .product-details {
      flex-grow: 1;
      padding: 0 5px;
      /* Add small padding */
    }
    
    .product-name {
      font-size: 16px;
      margin-top: 5px;
      margin-bottom: 8px;
    }
    
    .product-price {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
      /* Reduced from 10px */
    }
    
    .original-price {
      font-size: 15px;
      /* Smaller */
      text-decoration: line-through;
      color: #999;
      margin-right: 8px;
      /* Smaller margin */
    }
    
    .discounted-price {
      font-size: 15px;
      /* Smaller */
      font-weight: bold;
    }
    
    /* Quantity selector - more compact */
    .quantity-selector {
      display: flex;
      align-items: center;
      margin-bottom: 5px;
    }
    
    .quantity-selector,
    .color-selector,
    .size-selector {
      margin-bottom: 5px;
      /* Consistent small margins */
    }
    
    .quantity-btn {
      width: 25px;
      /* Smaller from 30px */
      height: 25px;
      /* Smaller from 30px */
      border: 1px solid #ddd;
      background-color: #f8f8f8;
      cursor: pointer;
      font-size: 16px;
      /* Smaller from 18px */
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .quantity-input {
      width: 40px;
      /* Smaller from 50px */
      height: 25px;
      /* Smaller from 30px */
      border: 1px solid #ddd;
      text-align: center;
      margin: 0 8px;
      /* Smaller from 10px */
    }
    
    .quantity-display {
      width: 35px;
      /* Smaller from 40px */
      height: 25px;
      /* Smaller from 30px */
      border: 1px solid #ddd;
      margin: 0 5px;
      text-align: center;
      line-height: 25px;
      /* Match height */
    }
    
    /* Color selector - more compact */
    .color-selector {
      display: block;
      margin-bottom: 8px;
      /* Smaller from 10px */
    }
    
    .color-selector label {
      display: block;
      margin-bottom: 4px;
      /* Smaller from 5px */
      font-size: 14px;
      /* Smaller font */
    }
    
    .color-options {
      display: flex;
      gap: 8px;
      /* Smaller from 10px */
    }
    
    .color-option {
      width: 28px;
      /* Smaller from 30px */
      height: 28px;
      /* Smaller from 30px */
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid transparent;
      background-size: cover;
      background-position: center;
      transition: all 0.3s ease;
    }
    
    .color-option.selected {
      border: 2px solid rgba(0, 0, 0, 0.5);
      box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);
      /* Smaller shadow */
      transform: scale(1.08);
      /* Slightly reduced scale */
    }
    
    /* Size selector - more compact */
    .size-selector {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      /* Aligns label to the left */
      margin-bottom: 8px;
      /* Smaller from 10px */
    }
    
    .size-selector label {
      margin-right: 8px;
      /* Smaller from 10px */
      font-size: 14px;
      /* Smaller font */
    }
    
    .size-options {
      display: flex;
      gap: 10px;
    }
    
    .size-option {
      width: 30px;
      height: 30px;
      border-radius: 5px;
      cursor: pointer;
      border: 1px solid #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 14px;
      /* Added smaller font */
      transition: all 0.3s ease;
    }
    
    .size-option.selected {
      background-color: #000000;
      color: white;
      border-color: #0056b3;
      transform: scale(1.08);
      /* Slightly reduced scale */
    }
    
    /* Mobile layout adjustments - the core change to fix your issue */
    @media (max-width: 768px) {
      .product-container {
        flex-direction: column;
        align-items: center;
      }
      
      .product-image {
        flex-basis: auto;
        width: 100%;
        max-width: 120px;
        /* Smaller from 300px */
      }
      
      .product-details {
        width: 100%;
      }
    }
    
    /* Color tooltip styling */
    .color-option:hover::after {
      content: attr(data-color);
      position: absolute;
      bottom: -20px;
      /* Smaller from -25px */
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: white;
      padding: 3px 6px;
      /* Smaller from 4px 8px */
      border-radius: 3px;
      font-size: 11px;
      /* Smaller from 12px */
      white-space: nowrap;
    }
    
    /* Form elements */
    .form-section {
      margin-bottom: 15px;
      /* Smaller from 20px */
    }
    
    label {
      display: block;
      margin: 8px 0 4px;
      /* Smaller from 10px 0 5px */
      font-size: 14px;
      /* Added smaller font */
    }
    
    input,
    select,
    button {
      width: 100%;
      padding: 8px;
      /* Smaller from 10px */
      margin-bottom: 8px;
      /* Smaller from 10px */
    }
    
    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      font-size: 15px;
      /* Added smaller font */
    }
    
    button:hover {
      background-color: #45a049;
    }
    
    /* Validation error */
    .validation-error {
      color: red;
      font-size: 0.8rem;
      margin-top: 4px;
      /* Smaller from 5px */
      display: none;
    }
  </style>
  
  <style>
    /* Main product container styling */
    /* Add this to your existing CSS */
    @media (max-width: 768px) {
      
      /* Ensure container doesn't overflow */
      .product-container {
        box-sizing: border-box;
        width: 100%;
        padding: 4px;
        overflow: hidden;
        /* Prevent content overflow */
      }
      
      /* Make product details fit within container */
      .product-details {
        width: 100%;
        padding: 2px;
        box-sizing: border-box;
      }
      
      /* Smaller text for all product elements */
      .product-name {
        font-size: 14px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      
      /* Adjust prices to fit */
      .product-price {
        flex-wrap: wrap;
        /* Allow prices to wrap if needed */
      }
      
      .original-price,
      .discounted-price {
        font-size: 14px;
        margin-right: 4px;
      }
      
      /* Make selectors more compact */
      .color-selector label,
      .size-selector label {
        font-size: 11px;
      }
      
      /* Smaller color and size options */
      .color-option,
      .size-option {
        width: 20px;
        height: 20px;
      }
      
      /* Smaller quantity controls */
      .quantity-btn,
      .quantity-display {
        width: 20px;
        height: 20px;
        font-size: 12px;
      }
    }
    
    /* Further adjustments for very small screens */
    @media (max-width: 480px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 5px;
        /* Even smaller gap */
      }
      
      /* Make product name text even smaller */
      .product-name {
        font-size: 12px;
      }
      
      /* Make selectors even smaller */
      .color-option,
      .size-option {
        width: 20px;
        height: 20px;
      }
      
      .size-option {
        font-size: 10px;
      }
    }
    
    /* Main product container styling */
  </style>
  
  <style>
    /* Side panel that slides in from right */
    .product-slide-panel {
      position: fixed;
      top: 0;
      right: -400px;
      /* Start off-screen */
      width: 400px;
      height: 100vh;
      background-color: white;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.2);
      z-index: 9000;
      transition: right 0.3s ease;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
    }
    
    .product-slide-panel.active {
      right: 0;
      /* Slide in */
    }
    
    /* Panel header with close button */
    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 15px;
      border-bottom: 1px solid #eee;
    }
    
    .panel-title {
      font-size: 18px;
      font-weight: bold;
      margin: 0;
    }
    
    .close-panel {
      width: 30px;
      height: 30px;
      background-color: #ff5555;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-weight: bold;
      font-size: 18px;
      border: none;
    }
    
    /* Panel image section */
    .panel-image-container {
      width: 100%;
      min-height: 40vh;
      max-height: 40vh;
      /* Increased from 40vh */
      position: relative;
      overflow: hidden;
      border-bottom: 1px solid #eee;
      background-color: #f8f8f8;
    }
    
    @media (max-width: 480px) {
      .panel-image-container {
        min-height: 40vh;
        /* Smaller minimum height on mobile */
        max-height: 40vh;
      }
    }
    
    .panel-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    
    /* Image navigation */
    .panel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 36px;
      height: 36px;
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
      border: none;
    }
    
    .panel-nav:hover {
      background-color: rgba(0, 0, 0, 0.8);
    }
    
    .prev-panel-image {
      left: 10px;
    }
    
    .next-panel-image {
      right: 10px;
    }
    
    /* Thumbnail styles removed */
    
    /* Product description section */
    .panel-product-details {
      padding: 15px;
      flex-grow: 1;
    }
    
    .panel-product-name {
      font-size: 20px;
      margin: 0 0 10px 0;
    }
    
    .panel-product-price {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .panel-original-price {
      text-decoration: line-through;
      color: #888;
    }
    
    .panel-discounted-price {
      font-weight: bold;
      color: #e53935;
      font-size: 18px;
    }
    
    .panel-options-section {
      margin-bottom: 15px;
    }
    
    .panel-options-title {
      font-weight: bold;
      margin-bottom: 5px;
    }
    
    
    .panel-color-options,
    .panel-size-options {
      display: flex;
      gap: 8px;
      margin-bottom: 15px;
    }
    
    .panel-color-option {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      background-size: cover;
      border: 2px solid transparent;
    }
    
    .panel-color-option.selected {
      border-color: #4CAF50;
    }
    
    .panel-size-option {
      min-width: 30px;
      height: 30px;
      border-radius: 5px;
      border: 1px solid #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      padding: 0 10px;
    }
    
    .panel-size-option.selected {
      background-color: #000000;
      color: white;
      border-color: #4CAF50;
    }
    
    .panel-size-chart {
      margin: 15px 0;
      max-width: 100%;
    }
    
    .panel-size-chart img {
      width: 100%;
      height: auto;
      border: 1px solid #eee;
      border-radius: 4px;
    }
    

   .description-title {
    font-weight: bold;
    /* margin-bottom: 3px; */ /* Remove or set to 0 */
    margin-bottom: 3;     /* No space below the title */
    font-size: 16px;
  }

  .panel-description {
   
    font-size: 15px;
    color: #333;
    /* font-weight: medium; */ /* 'medium' is often the default, same as 400. Consider 'normal' or a number like 400 or 500 if needed */
    font-weight: normal; /* Or 400 */
    line-height: 1.5;
  }


    
    /* Panel add to cart section */
    .panel-actions {
      padding: 15px;
      border-top: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .panel-quantity {
      display: flex;
      align-items: center;
    }
    
    .panel-quantity-btn {
      width: 30px;
      height: 30px;
      background: #f0f0f0;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
    }
    
    .panel-quantity-display {
      min-width: 40px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #ddd;
      margin: 0 5px;
    }
    
    .panel-add-to-cart {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 10px 20px;
      margin-left: 10px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }
    
    /* Overlay */
    .panel-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 8999;
      display: none;
    }
    
    .panel-overlay.active {
      display: block;
    }
    
    /* Responsive adjustments */
    @media (max-width: 480px) {
      .product-slide-panel {
        width: 85%;
      }
      
      .panel-color-option,
      .panel-size-option {
        width: 28px;
        height: 28px;
      }
    }
    
    /* Side panel that slides in from right */
  </style>
  
  <style>
    /* product image eye*/
    .product-image {
      position: relative;
      cursor: pointer;
    }
    
    .eye-overlay {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 40px;
      height: 40px;
      background-color: rgba(0, 0, 0, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.2;
      transition: opacity 0.3s ease;
    }
    
    .eye-overlay svg {
      width: 24px;
      height: 24px;
      color: #333;
    }
    
    /* Desktop hover effect */
    @media (hover: hover) {
      .product-image:hover .eye-overlay {
        opacity: 1;
      }
    }
    
    /* Mobile touch effect */
    @media (hover: none) {
      .eye-overlay {
        opacity: 0.7;
        /* Make the eye icon always slightly visible on mobile */
        background-color: rgba(0, 0, 0, 0.2);
      }
      
      /* Pulse animation for mobile */
      @keyframes pulse {
        0% {
          transform: translate(-50%, -50%) scale(1);
        }
        
        50% {
          transform: translate(-50%, -50%) scale(1.1);
        }
        
        100% {
          transform: translate(-50%, -50%) scale(1);
        }
      }
      
      .eye-overlay {
        animation: pulse 2s infinite;
      }
    }
    
    /* Responsive sizing for smaller screens */
    @media (max-width: 768px) {
      .eye-overlay {
        width: 32px;
        height: 32px;
      }
      
      .eye-overlay svg {
        width: 20px;
        height: 20px;
      }
    }
    
    /* Even smaller screens */
    @media (max-width: 480px) {
      .eye-overlay {
        width: 28px;
        height: 28px;
      }
      
      .eye-overlay svg {
        width: 16px;
        height: 16px;
      }
    }
    
    /* product image eye*/
  </style>
  
  <style>
    /* Order summery*/
    /* Base styles */
    .order-summary {
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 15px;
      margin-top: 20px;
      background-color: #f9f9f9;
      max-width: 100%;
      box-sizing: border-box;
    }
    
    .summary-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
      font-size: 0.85rem;
      white-space: normal;
      /* Changed from nowrap to allow wrapping */
    }
    
    .summary-label {
      color: #666;
      flex: 1;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }
    
    .summary-value {
      font-weight: 500;
      text-align: right;
      min-width: 80px;
      /* Ensure values have minimum width */
    }
    
    .product-summary {
      display: none;
    }
    
    .product-summary.visible {
      display: block;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid #ddd;
    }
    
    .summary-row.total-row {
      border-bottom: none;
      font-weight: bold;
      margin-top: 10px;
      padding-top: 15px;
      border-top: 2px solid #ddd;
    }
    
    .validation-message {
      color: #dc3545;
      margin-top: 10px;
      display: none;
    }
    
    /* Cart item styles */
    .summary-item {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      width: 100%;
      flex-wrap: wrap;
      padding: 10px 0;
    }
    
    .summary-item-image {
      width: 40px;
      height: 40px;
      border-radius: 5px;
      object-fit: cover;
      margin-right: 10px;
    }
    
    .summary-item-details {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 200px;
    }
    
    .summary-item-name {
      font-weight: 500;
      margin-bottom: 2px;
    }
    
    .summary-item-variant {
      font-size: 0.75rem;
      color: #666;
    }
    
    .remove-item-btn {
      background: rgba(220, 53, 69, 0.1);
      /* Light red tint */
      border-radius: 4px;
      color: #dc3545;
      display: flex;
      align-items: center;
      /* Centers vertically */
      justify-content: center;
      /* Centers horizontally */
      width: 30px;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      padding: 0 5px;
      margin-left: 10px;
    }
    
    .cart-item-quantity {
      display: flex;
      align-items: center;
      margin-top: 5px;
    }
    
    .cart-qty-btn {
      background: #6C757D;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 24px;
      /* Increased for better touch targets */
      height: 24px;
      /* Increased for better touch targets */
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      line-height: 1;
      cursor: pointer;
    }
    
    .cart-item-quantity span {
      margin: 0 8px;
      font-size: 0.8rem;
    }
    
    /* Responsive styles */
    @media screen and (max-width: 768px) {
      .order-summary {
        padding: 10px;
      }
      
      .summary-item {
        padding: 15px 0;
      }
      
      .summary-item-details {
        min-width: 150px;
      }
    }
    
    @media screen and (max-width: 480px) {
      .summary-row {
        flex-direction: row;
        padding: 10px 0;
      }
      
      .summary-value {
        margin-top: 5px;
        text-align: left;
      }
      
      .summary-row.total-row {
        flex-direction: row;
      }
      
      .summary-item {
        flex-direction: row;
      }
      
      .summary-item-image {
        margin-bottom: 10px;
      }
      
      .cart-item-quantity {
        margin-top: 10px;
      }
      
    }
    
    /* Order summery*/
  </style>
  
  <style>
    //Whatsapp message button pop up
    @keyframes bounce {
      
      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(0);
      }
      
      40% {
        transform: translateY(-10px);
      }
      
      60% {
        transform: translateY(-5px);
      }
    }
    
    .whatsapp-bounce {
      animation: bounce 0.8s ease;
    }
    
    /* Add this for the close button on WhatsApp */
    .whatsapp-close {
      position: absolute;
      top: -8px;
      right: -8px;
      width: 20px;
      height: 20px;
      background-color: #f44336;
      color: white;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
      cursor: pointer;
      z-index: 1001;
    }
    
    
    .empty-space {
      
      height: 200px;
      /* Adjust height as needed */
      
      background-color: transparent;
      /* Make it invisible if desired */
      
    }
  </style>
  
</head>

<body>
  
  <div id="products-page" class="page active">
    <!-- All product containers go here -->
    
    <h1>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡¶™‡¶ø‡¶Ç ‡¶ü‡ßç‡¶∞‡¶≤‡¶ø ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</h1>
    <div id="validation-message" class="validation-error">Please select at least one product.</div>
    <form id="order-form" action="https://docs.google.com/forms/d/e/1FAIpQLSda7l1jjcN2i6lNFO8t7diVPZli9PqXTJ2YuhOv3zNlD6RZbg/formResponse" method="POST">
      

      <div class="products-grid">
        
        <!-- Product 1 -->
        <div class="product-container selected-product" id="product1">
          
          <div class="product-image">
            <img id="image-product1" src="https://i.postimg.cc/L4yn06WD/7-20250125-135522-0006.png" alt="Shopping Trolley">
          </div>
          <div class="product-details">
            <h3 class="product-name">PST_Big</h3>
            <div class="product-price">
              <span class="original-price">‡ß≥2999</span>
              <span class="discounted-price">‡ß≥1699</span>
            </div>
            <div class="quantity-selector">
              <div class="quantity-btn" onclick="updateQuantity('1', -1)">‚àí</div>
              <div id="quantity1" class="quantity-display">1</div>
              <div class="quantity-btn" onclick="updateQuantity('1', 1)">+</div>
            </div>
            
            <div class="color-selector">
              <label>Colour:</label>
              <div class="color-options">
                <div class="color-option selected" style="background-image: url('https://i.postimg.cc/XNrNgWGb/20250118-000012.png');" data-color="Black and white Flower" data-circle-image="https://i.postimg.cc/XNrNgWGb/20250118-000012.png" data-preview-image="https://i.postimg.cc/L4yn06WD/7-20250125-135522-0006.png" onclick="selectColor('product1', 'Black and white Flower', this)"></div>
                <div class="color-option" style="background-image: url('https://i.postimg.cc/7hFW30Cf/20250118-000038.png');" data-color="Red" data-circle-image="https://i.postimg.cc/7hFW30Cf/20250118-000038.png" data-preview-image="https://i.postimg.cc/7hQhCmzd/5-20250125-135522-0004.png" onclick="selectColor('product1', 'Red', this)"></div>
                <div class="color-option" style="background-image: url('https://i.postimg.cc/rs0HRQwB/20250117-235908.png');" data-color="Blue" data-circle-image="https://i.postimg.cc/rs0HRQwB/20250117-235908.png" data-preview-image="https://i.postimg.cc/MKNXq3qj/1-20250125-135522-0000.png" onclick="selectColor('product1', 'Blue', this)"></div>
                <div class="color-option" style="background-image: url('https://i.postimg.cc/DZYDztnQ/20250117-235946.png');" data-color="Black" data-circle-image="https://i.postimg.cc/DZYDztnQ/20250117-235946.png" data-preview-image="https://i.postimg.cc/zXVVmYZr/4-20250125-135522-0003.png" onclick="selectColor('product1', 'Black', this)"></div>
              </div>
            </div>
            
            <!-- Size selection -->
            <div class="size-selector">
              <label>Size:</label>
              <div class="size-options">
                <div class="size-option selected" data-size="M" onclick="selectSize('product1', 'M', this)">M</div>
                <div class="size-option" data-size="L" onclick="selectSize('product1', 'L', this)">L</div>
                <div class="size-option" data-size="XL" onclick="selectSize('product1', 'XL', this)">XL</div>
                <div class="size-option" data-size="2XL" onclick="selectSize('product1', '2XL', this)">2XL</div>
              </div>
            </div>
            
          </div>
        </div>
        
        
        
        <!-- Product 2 -->
        <div class="product-container" id="product2">
          
          <div class="product-image">
            <img id="image-product2" src="https://i.postimg.cc/3R1dhKxK/6-20250125-135522-0005.png" alt="Shopping Trolley">
          </div>
          <div class="product-details">
            <h3 class="product-name">PST_PTBL</h3>
            <div class="product-price">
              <span class="original-price">‡ß≥2799</span>
              <span class="discounted-price">‡ß≥1599</span>
            </div>
            <div class="quantity-selector">
              <div class="quantity-btn" onclick="updateQuantity('2', -1)">‚àí</div>
              <div id="quantity2" class="quantity-display">1</div>
              <div class="quantity-btn" onclick="updateQuantity('2', 1)">+</div>
            </div>
            
            
            
            <!-- Size selection -->
            <div class="size-selector">
              <label>Size:</label>
              <div class="size-options">
                <div class="size-option" data-size="M" onclick="selectSize('product2', 'M', this)">M</div>
                <div class="size-option" data-size="L" onclick="selectSize('product2', 'L', this)">L</div>
                <div class="size-option" data-size="XL" onclick="selectSize('product2', 'XL', this)">XL</div>
                <div class="size-option" data-size="2XL" onclick="selectSize('product2', '2XL', this)">2XL</div>
              </div>
            </div>
            
          </div>
        </div>
      </div>
  </div>
  
  
  
  
  <!-- Checkout Page -->
  <div id="checkout-page" class="page">
    <h2>Checkout</h2>
    
    <!-- Order Summary -->
    <div class="order-summary">
      <h3>Order Summary</h3>
      <div id="validation-message" class="validation-message">
        Please select at least one product to proceed.
      </div>
      <div id="products-summary">
        <!-- Products will be dynamically added here -->
      </div>
      <div class="summary-row">
        <span class="summary-label">Delivery Charge</span>
        <span id="delivery-value" class="summary-value">130 Tk</span>
      </div>
      <div class="summary-row total-row">
        <span class="summary-label">Total</span>
        <span id="total-value" class="summary-value">130 Tk</span>
      </div>
    </div>
    
    <!-- Billing Details -->
    <div class="form-section">
      <h3>Billing Details</h3>
      <label for="name">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ:</label>
      <input type="text" id="name" name="entry.1295621272" required>
      
      <label for="phone">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞:</label>
      <input type="tel" id="phone" name="entry.1220849713" required>
      
      <label for="address">‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:</label>
      <input type="text" id="address" name="entry.1101791371" required>
      
    </div>
    
    <!-- Delivery Location -->
    <div class="form-section">
      <h3>Delivery Location</h3>
      <label for="delivery-location">Select Delivery Location:</label>
      <select id="delivery-location" name="entry.883422688" onchange="updateOrderSummary()">
        <option value="Inside Dhaka (70 Tk)">‡¶¢‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶§‡¶∞‡ßá ‚Äî ‡ß≠‡ß¶</option>
        <option value="Outside Dhaka (130 Tk)" selected>‡¶¢‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá ‚Äì ‡ßß‡ß©‡ß¶</option>
      </select>
    </div>
    
    <!-- Payment Method -->
    <div class="form-section">
      <h3>Payment Method</h3>
      <label for="payment-method">Select Payment Method:</label>
      <select id="payment-method" name="entry.303544925" required onchange="handlePaymentMethodChange()">
        <option value="Bkash">Bkash(Will be available soon)</option>
        <option value="Visa">Visa(Will be available soon)</option>
        <option value="Cash on Delivery" selected>‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ö‡¶® ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø (‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶π‡¶æ‡¶§‡ßá ‡¶™‡ßá‡¶Ø‡¶º‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¶‡¶ø‡¶¨‡ßá‡¶®)</option>
      </select>
    </div>
    
    <!-- Submit Button -->
    <button type="submit" id="submit-button">Place Order</button>
  </div>
  
  
  
  
  
  <!-- WhatsApp Button -->
  <div style="position: fixed; bottom: 180px; right: 20px; width: 60px; height: 60px; background-color: #25D366; border-radius: 50%; box-shadow: 0 4px 4px rgba(0, 0, 0, 0.3); display: flex; justify-content: center; align-items: center; z-index: 1000; cursor: pointer; transition: transform 0.3s ease;" id="whatsappButton" onmouseover="this.style.transform='scale(1.1)';" onmouseout="this.style.transform='scale(1)';">
    
    <div class="whatsapp-close" onclick="hideWhatsappButton(event)">‚úï</div>
    
    <a href="https://wa.me/8801777122287?text=I%20need%20help%20with%20ordering" target="_blank" rel="noopener noreferrer" style="display: block; width: 100%; height: 100%; background-color: #25D366; border-radius: 50%; display: flex; justify-content: center; align-items: center; text-decoration: none;">
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp Chat" style="width: 35px; height: 35px;">
    </a>
    
    <div style="position: absolute; bottom: 50%; right: 70px; background-color:white; color: #333333; font-size: 14px; padding: 8px 12px; border-radius: 10px; box-shadow: 0 4px 4px rgba(0, 0, 0, 0.2); opacity: 0; white-space: nowrap; z-index: 999; transform: scale(0.9) translateX(20px); transition: all 0.5s ease;" id="messageBox">
      <b>‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßá ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</b>
    </div>
    
  </div>
  
  
  <!--empty space -->
  <div class="empty-space"></div>
  
  
  
  <script>
    // Product configurations
    const productConfigs = {
      product1: {
        name: "PST_Big",
        basePrice: 1699,
        originalPrice: 2999,
        colors: [
          { name: "Black and white Flower", circleImage: "https://i.postimg.cc/XNrNgWGb/20250118-000012.png", previewImage: "https://i.postimg.cc/L4yn06WD/7-20250125-135522-0006.png" },
          { name: "Red", circleImage: "https://i.postimg.cc/7hFW30Cf/20250118-000038.png", previewImage: "https://i.postimg.cc/7hQhCmzd/5-20250125-135522-0004.png" },
          { name: "Blue", circleImage: "https://i.postimg.cc/rs0HRQwB/20250117-235908.png", previewImage: "https://i.postimg.cc/MKNXq3qj/1-20250125-135522-0000.png" },
          { name: "Black", circleImage: "https://i.postimg.cc/DZYDztnQ/20250117-235946.png", previewImage: "https://i.postimg.cc/zXVVmYZr/4-20250125-135522-0003.png" }
        ],
        sizes: ["M", "L", "XL", "2XL"],
        // --- ADD THIS LINE ---
        description: '<strong>Fabric:</strong> China Pin Mesh (super smooth, best for summer)<br><strong>GSM:</strong> 170...<br><strong>Print:</strong> High-Density, and Rubber.(Top Quality)'
        // ---------------------
      },
      product2: {
        name: "PST_PTBL",
        basePrice: 1599,
        originalPrice: 2799,
        colors: [
          // Note: Product 2 in your original file didn't list colors in config,
          // but had them in HTML. You should sync these if needed.
          // Assuming colors from HTML:
          { name: "Cute Animal", circleImage: "https://i.postimg.cc/3JpKPZFf/20250118-000055.png", previewImage: "https://i.postimg.cc/3R1dhKxK/6-20250125-135522-0005.png" },
          { name: "Brown with Nature", circleImage: "https://i.postimg.cc/Pf0X37Y8/20250118-000128.png", previewImage: "https://i.postimg.cc/1Xz45L8D/8-20250125-135523-0007.png" }
        ],
        sizes: ["M", "L", "XL"],
        // --- ADD THIS LINE ---
        description: '<strong>Fabric:</strong> China Pin Mesh (super smooth, best for summer)<br><strong>GSM:</strong> 170...<br><strong>Print:</strong> High-Density, and Rubber.(Top Quality)'
        // ---------------------
      }
      // Add description lines for any other products you have
    };
    
    // Size chart Description Image 
    const productSizeCharts = {
      'product1': 'https://i.postimg.cc/JhjpTdw6/Messenger-creation-FDB25-B12-BA5-D-4488-8-A5-F-654533-C51958.jpg',
      'product2': 'https://i.postimg.cc/JhjpTdw6/Messenger-creation-FDB25-B12-BA5-D-4488-8-A5-F-654533-C51958.jpg',
      // Add more products as needed
    };
    
    // Delivery charges configuration
    const deliveryCharges = {
      "Inside Dhaka (70 Tk)": 70,
      "Outside Dhaka (130 Tk)": 130
    };
    
    // Product configurations
  </script>
  
  <script>
    // Initialize when the page loads
    document.addEventListener('DOMContentLoaded', function() {
      initializeCart();
      
      // Add CSS for the new buttons
      const style = document.createElement('style');
      document.head.appendChild(style);
      
      // Initialize the app with proper page setup
      initializeApp();
      
      // Eye at product image
      // Add this line at the end of the function
      addViewDetailsIcons();
    });
    
    // Function to navigate between pages
    // Updated to hive cart button on checkout page 
    function navigateToPage(pageId) {
      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      
      // Show the requested page
      document.getElementById(pageId).classList.add('active');
      
      // Scroll to top when changing pages
      window.scrollTo(0, 0);
      
      // Update the URL hash for better navigation
      window.location.hash = pageId;
      
      // Update floating cart visibility based on current page
      updateFloatingCart();
    }
    
    
    
    // Function to handle hash-based navigation
    function handleHashNavigation() {
      const hash = window.location.hash.substr(1);
      if (hash === 'checkout-page' || hash === 'products-page') {
        navigateToPage(hash);
      } else {
        // Default to products page if no valid hash
        navigateToPage('products-page');
      }
    }
    
    // Add to Cart functionality
    // Add to Cart functionality Modify the addToCart function to show a simpler notification message
    
    
    
    
    
    // Function to show cart notification
    // Function to show cart update for 2 sec
    function showCartNotification(message) {
      // Create notification element if it doesn't exist
      if (!document.getElementById('cart-notification')) {
        const notification = document.createElement('div');
        notification.id = 'cart-notification';
        notification.style.position = 'fixed';
        notification.style.bottom = '20px';
        notification.style.right = '20px';
        notification.style.padding = '10px 20px';
        notification.style.backgroundColor = '#4CAF50';
        notification.style.color = 'white';
        notification.style.borderRadius = '5px';
        notification.style.zIndex = '1000';
        notification.style.opacity = '0';
        notification.style.transition = 'opacity 0.3s ease-in-out';
        document.body.appendChild(notification);
      }
      
      // Show notification with message
      const notification = document.getElementById('cart-notification');
      notification.textContent = message;
      notification.style.opacity = '1';
      
      // Hide notification after 2 seconds (changed from 3)
      setTimeout(() => {
        notification.style.opacity = '0';
      }, 2000); // Changed from 3000 to 2000 (2 seconds)
    }
    
    
    
    
    
    
    // Update floating cart button
    // Update floating cart button to not show in the check out page
    // Update floating cart button to not show total price
    function updateFloatingCart() {
      const floatingCart = document.getElementById('floating-cart');
      if (!floatingCart) return;
      
      // Get current page
      const isCheckoutPage = document.getElementById('checkout-page').classList.contains('active');
      
      // If on checkout page, hide floating cart regardless of content
      if (isCheckoutPage) {
        floatingCart.style.display = 'none';
        return;
      }
      
      // Calculate total items
      let totalItems = 0;
      cart.forEach(item => {
        totalItems += item.quantity;
      });
      
      // Update cart count
      const cartCount = floatingCart.querySelector('.cart-count');
      cartCount.textContent = totalItems;
      
      // Update cart preview - ONLY show number of items, not price
      const cartPreview = floatingCart.querySelector('.cart-preview');
      if (cartPreview) {
        cartPreview.textContent = `${totalItems} items`;
      }
      
      // Show/hide floating cart based on cart content
      floatingCart.style.display = cart.length > 0 ? 'flex' : 'none';
    }
    
    
    
    
    
    
    // Buy Now functionality
    // Buy Now functionality
    function buyNow(productId) {
      const product = document.getElementById(productId);
      
      // Get the selected color element - no longer required
      const selectedColorElement = product.querySelector('.color-option.selected');
      let selectedColor = "";
      if (selectedColorElement) {
        selectedColor = selectedColorElement.getAttribute('data-color');
      }
      
      // Check if size message already exists, remove it if it does
      const existingSizeMsg = product.querySelector('.size-warning');
      if (existingSizeMsg) {
        existingSizeMsg.remove();
      }
      
      // Get the selected size element
      const selectedSizeElement = product.querySelector('.size-option.selected');
      if (!selectedSizeElement) {
        // Create and insert size warning message
        const sizeWarning = document.createElement('div');
        sizeWarning.className = 'size-warning';
        sizeWarning.textContent = 'Please select a size';
        sizeWarning.style.color = 'blue';
        sizeWarning.style.marginTop = '5px';
        sizeWarning.style.fontWeight = 'reguler';
        
        // Insert before the product buttons
        const buttonContainer = product.querySelector('.product-buttons');
        buttonContainer.parentNode.insertBefore(sizeWarning, buttonContainer);
        return;
      }
      const selectedSize = selectedSizeElement.getAttribute('data-size');
      
      const quantityElement = document.getElementById(`quantity${productId.replace('product', '')}`);
      const quantity = parseInt(quantityElement.textContent);
      
      // Get the base image
      let productImage = product.querySelector('.product-image img').src;
      
      const cartItem = {
        productId: productId,
        quantity: quantity,
        color: selectedColor,
        size: selectedSize,
        price: productConfigs[productId].basePrice,
        itemId: generateItemId(),
        baseImage: productImage
      };
      
      cart.push(cartItem);
      quantityElement.textContent = '1';
      updateCartDisplay();
      
      // Then navigate to checkout page
      navigateToPage('checkout-page');
    }
    
    
    
    
    
    
    // Initialize floating cart button
    function initializeFloatingCart() {
      // Create floating cart button if it doesn't exist
      if (!document.getElementById('floating-cart')) {
        const floatingCart = document.createElement('div');
        floatingCart.id = 'floating-cart';
        floatingCart.className = 'floating-cart';
        floatingCart.innerHTML = `
      <div class="cart-count">0</div>
      <span class="cart-icon">üõí</span>
      <span class="cart-preview">0 items</span>
    `;
        floatingCart.addEventListener('click', () => {
          navigateToPage('checkout-page');
        });
        document.body.appendChild(floatingCart);
        
        // Add style for floating cart
        const style = document.createElement('style');
        style.innerHTML = `
      .floating-cart {
        position: fixed;
        bottom: 100px;
        right: 20px;
        background-color: #4CAF50;
        color: white;
        padding: 10px 15px;
        border-radius: 50px;
        display: flex;
        align-items: center;
        cursor: pointer;
        z-index: 999;
        box-shadow: 0 3px 5px rgba(0,0,0,0.2);
      }
      .cart-count {
        background-color: white;
        color: #4CAF50;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-right: 5px;
      }
      .cart-icon {
        margin-right: 5px;
      }
    `;
        document.head.appendChild(style);
      }
      
      // Update floating cart initially
      updateFloatingCart();
    }
    
    
    // First, let's modify the data structure to support multiple items of the same variant
    // We'll transform the selectedProducts to an array of items instead of a single item per product type
    
    // Initialize the cart as an array
    let cart = [];
    
    
    
    
    
    
    // Initialize the cart with one item from product1 by default
    function initializeCart() {
      // Start with an empty cart
      cart = [];
      
      // Get all product IDs from the config or find all product containers
      const productIds = Object.keys(productConfigs); // Or querySelectorAll('.product-container')
      
      productIds.forEach(productId => {
        const productElement = document.getElementById(productId);
        if (productElement) {
          const config = productConfigs[productId];
          
          // --- Default Color Selection Logic (Example) ---
          const colorOptions = productElement.querySelectorAll('.color-option');
          if (config && config.colors && config.colors.length > 0 && colorOptions.length > 0) {
            // Deselect all first
            colorOptions.forEach(option => option.classList.remove('selected'));
            // Select the first one
            colorOptions[0].classList.add('selected');
            // Ensure data-color attribute is set (optional, good practice)
            if (!colorOptions[0].getAttribute('data-color') && config.colors[0].name) {
              colorOptions[0].setAttribute('data-color', config.colors[0].name);
            }
          }
          
          // --- Default Size Deselection Logic (Example) ---
          productElement.querySelectorAll('.size-option').forEach(option => {
            option.classList.remove('selected');
          });
        }
      });
      
      
      // Remove all checkboxes completely (This part is fine as is)
      document.querySelectorAll('.product-checkbox').forEach(checkbox => {
        checkbox.remove();
      });
      
      // Update the cart display
      updateCartDisplay();
    }
    
    
    
    
    // Generate a unique ID for each cart item
    function generateItemId() {
      return 'item_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    }
    
    // Remove an item from cart
    function removeFromCart(itemId) {
      cart = cart.filter(item => item.itemId !== itemId);
      updateCartDisplay();
      updateFloatingCart();
    }
    
    // Update quantity of an item in cart
    function updateCartItemQuantity(itemId, change) {
      const item = cart.find(item => item.itemId === itemId);
      if (item) {
        const newQuantity = Math.min(5, Math.max(1, item.quantity + change));
        item.quantity = newQuantity;
        updateCartDisplay();
        updateFloatingCart();
      }
    }
    
    
    
    
    
    
    
    // Update the cart display in the order summary
    // Update the cart display in the order summary
    function updateCartDisplay() {
      const productsSummary = document.getElementById('products-summary');
      if (!productsSummary) return;
      
      productsSummary.innerHTML = '';
      
      let subtotal = 0;
      
      if (cart.length === 0) {
        const emptyRow = document.createElement('div');
        emptyRow.className = 'summary-row product-summary visible';
        emptyRow.innerHTML = `
        <span class="summary-label">Your cart is empty</span>
        <span class="summary-value">0 Tk</span>
    `;
        productsSummary.appendChild(emptyRow);
      } else {
        cart.forEach((item, index) => {
          const productConfig = productConfigs[item.productId];
          const productNum = item.productId.replace('product', '');
          const itemTotal = item.price * item.quantity;
          subtotal += itemTotal;
          
          // Get the variant image URL from the color data or use base image
          let variantImageUrl = item.baseImage;
          if (item.color) {
            const colorOptions = document.querySelectorAll(`#${item.productId} .color-option`);
            colorOptions.forEach(option => {
              if (option.getAttribute('data-color') === item.color) {
                variantImageUrl = option.getAttribute('data-preview-image') || variantImageUrl;
              }
            });
          }
          
          const row = document.createElement('div');
          row.className = 'summary-row product-summary visible';
          
          // Adjust the display of variant information based on whether color is selected
          const variantInfo = item.color ? `${item.color}, ${item.size}` : `${item.size}`;
          
          row.innerHTML = `
<div class="summary-item">
  <img src="${variantImageUrl}" class="summary-item-image" alt="${productConfig.name}">
  <div class="summary-item-details">
    <div class="summary-item-name">
      ${productConfig.name} √ó ${item.quantity}
      <div class="summary-item-variant">${variantInfo}</div>
    </div>
     
     <div class="cart-item-quantity">
       <div class="cart-qty-btn" onclick="updateCartItemQuantity('${item.itemId}', -1)">‚àí</div>
       <span>${item.quantity}</span>
       <div class="cart-qty-btn" onclick="updateCartItemQuantity('${item.itemId}', 1)">+</div>
       <div class="remove-item-btn" onclick="removeFromCart('${item.itemId}')">√ó</div>
     </div>
   </div>
   <span class="summary-value">${itemTotal} Tk</span>
 </div>
      `;
          productsSummary.appendChild(row);
        });
      }
      
      const deliveryLocation = document.getElementById('delivery-location')?.value;
      const deliveryCharge = deliveryCharges[deliveryLocation] || 0;
      
      if (document.getElementById('delivery-value')) {
        document.getElementById('delivery-value').textContent = `${deliveryCharge} Tk`;
      }
      
      if (document.getElementById('total-value')) {
        document.getElementById('total-value').textContent = `${subtotal + deliveryCharge} Tk`;
      }
      
      // Update proceed to checkout button visibility
      const checkoutBtn = document.querySelector('.checkout-btn');
      if (checkoutBtn) {
        if (cart.length === 0) {
          checkoutBtn.disabled = true;
          checkoutBtn.style.opacity = "0.5";
          checkoutBtn.style.cursor = "not-allowed";
        } else {
          checkoutBtn.disabled = false;
          checkoutBtn.style.opacity = "1";
          checkoutBtn.style.cursor = "pointer";
        }
      }
    }
    
    
    
    
    
    
    
    // Update quantity
    function updateQuantity(productNum, change) {
      // Get the quantity display element for the specific product
      const quantityDisplay = document.getElementById(`quantity${productNum}`);
      
      // Parse the current quantity as an integer
      let currentQuantity = parseInt(quantityDisplay.textContent);
      
      // Calculate the new quantity with a limit between 1 and 5
      // Math.max ensures the quantity doesn't go below 1
      // Math.min ensures the quantity doesn't go above 5
      const newQuantity = Math.min(5, Math.max(1, currentQuantity + change));
      
      // Update the quantity display
      quantityDisplay.textContent = newQuantity;
      
      // Update the quantity in the selectedProducts object
      selectedProducts[`product${productNum}`].quantity = newQuantity;
      
      // Recalculate the order summary
      updateOrderSummary();
    }
    
    
    
    
    
    // Handle color selection
    function selectColor(productId, color, element) {
      // Update color options visual state
      const colorOptions = element.parentElement.getElementsByClassName('color-option');
      Array.from(colorOptions).forEach(option => option.classList.remove('selected'));
      element.classList.add('selected');
      
      // Update product image
      const productImage = document.getElementById(`image-${productId}`);
      if (productImage) {
        productImage.src = element.getAttribute('data-preview-image');
      }
      
      // Update selected products state
      selectedProducts[productId].color = color;
      updateOrderSummary();
    }
    
    
    
    
    // Handle size selection
    function selectSize(sizeElement, productId) {
      // Remove selected class from all size options in this product
      const product = document.getElementById(productId);
      product.querySelectorAll('.size-option').forEach(option => {
        option.classList.remove('selected');
      });
      
      // Add selected class to clicked size option
      sizeElement.classList.add('selected');
    }
    
    // Handle form submission
    document.addEventListener('DOMContentLoaded', function() {
      const orderForm = document.getElementById('order-form');
      if (orderForm) {
        orderForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Validate cart
          if (cart.length === 0) {
            document.getElementById('validation-message').style.display = 'block';
            return false;
          }
          
          const formData = new FormData(this);
          
          // Create formatted product summary for Google Forms
          let productSummary = '';
          cart.forEach((item, index) => {
            const productConfig = productConfigs[item.productId];
            productSummary += `Item ${index + 1}: ${productConfig.name}, Quantity=${item.quantity}, Color=${item.color}, Size=${item.size}\n`;
          });
          
          // Add product summary and total to form data
          formData.append('entry.764895570', productSummary.trim());
          formData.append('entry.18022865', document.getElementById('total-value').textContent);
          
          fetch('https://docs.google.com/forms/d/e/1FAIpQLSda7l1jjcN2i6lNFO8t7diVPZli9PqXTJ2YuhOv3zNlD6RZbg/formResponse', {
              method: 'POST',
              body: formData,
              mode: 'no-cors'
            })
            .then(() => {
              // Open thank you page in new window
              window.open('https://sites.google.com/view/order-with-side-cart/home', '_blank');
            })
            .catch(error => {
              // Open thank you page in new window even if there's an error
              window.open('https://sites.google.com/view/order-with-side-cart/home', '_blank');
            });
        });
      }
    });
    
    
    
    
    
    // Function to bridge the old product selection system with the new cart
    function setupProductIntegration() {
      // Set up color option click handlers and data attributes
      document.querySelectorAll('.color-option').forEach(colorOption => {
        const productId = colorOption.closest('.product-container').id;
        const colorName = colorOption.getAttribute('data-color');
        
        // Make sure data-color is set
        if (!colorName && colorOption.textContent.trim()) {
          colorOption.setAttribute('data-color', colorOption.textContent.trim());
        }
        
        // Set data-preview-image from the product config if available
        const productConfig = productConfigs[productId];
        if (productConfig) {
          const colorInfo = productConfig.colors.find(c => c.name === colorOption.getAttribute('data-color'));
          if (colorInfo && colorInfo.previewImage) {
            colorOption.setAttribute('data-preview-image', colorInfo.previewImage);
          }
        }
        
        // Remove old event listeners to prevent duplicates
        colorOption.replaceWith(colorOption.cloneNode(true));
      });
      
      // Re-add event listeners after cloning
      document.querySelectorAll('.color-option').forEach(colorOption => {
        const productId = colorOption.closest('.product-container').id;
        colorOption.addEventListener('click', function() {
          // Call both color selection functions
          selectColor(this, productId);
          
          // Also call the original function if it exists
          if (typeof window.selectColor === 'function') {
            window.selectColor(productId, this.getAttribute('data-color'), this);
          }
        });
      });
      
      // Set up size option click handlers and data attributes
      document.querySelectorAll('.size-option').forEach(sizeOption => {
        const productId = sizeOption.closest('.product-container').id;
        const sizeValue = sizeOption.getAttribute('data-size');
        
        // Make sure data-size is set
        if (!sizeValue && sizeOption.textContent.trim()) {
          sizeOption.setAttribute('data-size', sizeOption.textContent.trim());
        }
        
        // Remove old event listeners to prevent duplicates
        sizeOption.replaceWith(sizeOption.cloneNode(true));
      });
      
      // Re-add event listeners after cloning
      document.querySelectorAll('.size-option').forEach(sizeOption => {
        const productId = sizeOption.closest('.product-container').id;
        sizeOption.addEventListener('click', function() {
          // Call both size selection functions
          selectSize(this, productId);
          
          // Also call the original function if it exists
          if (typeof window.selectSize === 'function') {
            window.selectSize(productId, this.getAttribute('data-size'), this);
          }
          
          // Remove any size warning message when a size is selected
          const sizeWarning = this.closest('.product-container').querySelector('.size-warning');
          if (sizeWarning) {
            sizeWarning.remove();
          }
        });
      });
      
      // Set up quantity buttons to work with both systems
      document.querySelectorAll('.quantity-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const productNum = this.getAttribute('data-product');
          const change = parseInt(this.getAttribute('data-change'));
          
          // Call the original quantity update function
          if (typeof window.updateQuantity === 'function') {
            window.updateQuantity(productNum, change);
          }
        });
      });
    }
    
    
    
    
    // Update initializeApp to call our integration setup
    function initializeApp() {
      // Initialize cart
      initializeCart();
      
      // Setup floating cart button
      initializeFloatingCart();
      
      // Remove any existing product buttons
      document.querySelectorAll('.product-buttons').forEach(el => el.remove());
      
      // Add "Add to Cart" and "Buy Now" buttons to each product
      document.querySelectorAll('.product-container').forEach(container => {
        const productId = container.id;
        const buttonContainer = document.createElement('div');
        
        buttonContainer.className = 'product-buttons';
        buttonContainer.innerHTML = `
          <div class="buttons-row">
            <button type="button" class="add-to-cart-btn" onclick="addToCart('${productId}')">
              Add to Cart
            </button>
            <button type="button" class="buy-now-btn" onclick="buyNow('${productId}')">
              Buy Now
            </button>
          </div>
        `;
        
        // Check if buttons already exist to avoid duplicates
        if (!container.querySelector('.product-buttons')) {
          container.querySelector('.product-details').appendChild(buttonContainer);
        }
      });
      
      // Add back button on checkout page
      const checkoutPage = document.getElementById('checkout-page');
      // Remove existing navigation buttons to avoid duplicates
      checkoutPage.querySelectorAll('.navigation-btn').forEach(btn => btn.remove());
      
      const backToProductsBtn = document.createElement('button');
      backToProductsBtn.type = 'button';
      backToProductsBtn.className = 'navigation-btn back-btn';
      backToProductsBtn.textContent = '‚Üê Continue Shopping';
      backToProductsBtn.addEventListener('click', () => navigateToPage('products-page'));
      checkoutPage.insertBefore(backToProductsBtn, checkoutPage.firstChild);
      
      // Add "Proceed to Checkout" button on product page
      const productsPage = document.getElementById('products-page');
      // Remove existing navigation buttons to avoid duplicates
      productsPage.querySelectorAll('.navigation-buttons').forEach(btn => btn.remove());
      
      const checkoutButtonContainer = document.createElement('div');
      checkoutButtonContainer.className = 'navigation-buttons';
      checkoutButtonContainer.innerHTML = `
      <button type="button" class="navigation-btn checkout-btn">
        Proceed to Checkout
      </button>
    `;
      productsPage.appendChild(checkoutButtonContainer);
      
      // Add event listener to the checkout button
      const checkoutBtn = checkoutButtonContainer.querySelector('.checkout-btn');
      checkoutBtn.addEventListener('click', () => navigateToPage('checkout-page'));
      
      // Add CSS for navigation buttons
      const navStyles = document.createElement('style');
      navStyles.id = 'navigation-styles';
      navStyles.innerHTML = `
      .navigation-btn {
        padding: 10px 20px;
        margin: 10px 0;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
      }
      .back-btn {
        background-color: #888;
      }
      .navigation-buttons {
        text-align: center;
        margin: 20px 0;
      }
      /* Style for the page class */
      .page {
        display: none;
      }
      .page.active {
        display: block;
      }
      /* Make sure our buttons have proper styles */
      .product-buttons {
        display: flex;
        flex-direction: column;
        margin-top: 10px;
      }
     
      .buttons-row { display: flex; gap: 5px; width: 100%; }
     
      .add-to-cart-btn, .buy-now-btn {
        padding: 8px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        flex: 1;
      }
      .add-to-cart-btn {
        background-color: #4CAF50;
        color: white;
      }
      .buy-now-btn {
        background-color: #ff9800;
        color: white;
      }
      
      
      
      /* Add these styles inside your existing @media query for mobile */
@media (max-width: 768px) {
/* Existing mobile styles... */

/* Button adjustments for mobile */
.product-buttons {
margin-top: 5px;
}

.buttons-row {
gap: 5px; /* Reduce gap between buttons */
}

.add-to-cart-btn, .buy-now-btn {
padding: 5px 8px;
font-size: 11px;
}
}

/* Further adjustments for very small screens */
@media (max-width: 480px) {
/* Existing very small screen styles... */

.add-to-cart-btn, .buy-now-btn {
padding: 5px 8px;
font-size: 11px;
}

/* Stack buttons if needed on very small screens */
.buttons-row {
flex-direction: row;
gap: 1px;
}
}
      
    `;
      
      document.head.appendChild(navStyles);
      
      // Run our integration setup
      setupProductIntegration();
      
      // Set initial page based on URL hash or default to products page
      handleHashNavigation();
      
      // Listen for hash changes to handle navigation
      window.addEventListener('hashchange', handleHashNavigation);
    }
    
    // Update to the addToCart function to handle both systems
    // Update to the addToCart function to handle both systems
    function addToCart(productId) {
      const product = document.getElementById(productId);
      
      // Get the selected color element
      const selectedColorElement = product.querySelector('.color-option.selected');
      // No longer require color selection
      let selectedColor = "";
      if (selectedColorElement) {
        selectedColor = selectedColorElement.getAttribute('data-color');
      }
      
      // Get the selected size element
      const selectedSizeElement = product.querySelector('.size-option.selected');
      
      // Check if size message already exists, remove it if it does
      const existingSizeMsg = product.querySelector('.size-warning');
      if (existingSizeMsg) {
        existingSizeMsg.remove();
      }
      
      // Handle the case when size is not selected
      if (!selectedSizeElement) {
        // Create and insert size warning message
        const sizeWarning = document.createElement('div');
        sizeWarning.className = 'size-warning';
        sizeWarning.textContent = 'Please select a size';
        sizeWarning.style.color = 'blue';
        sizeWarning.style.marginTop = '5px';
        sizeWarning.style.fontWeight = 'reguler';
        
        // Insert before the product buttons
        const buttonContainer = product.querySelector('.product-buttons');
        buttonContainer.parentNode.insertBefore(sizeWarning, buttonContainer);
        return;
      }
      
      const selectedSize = selectedSizeElement.getAttribute('data-size');
      
      // Get the quantity
      const productNum = productId.replace('product', '');
      const quantityElement = document.getElementById(`quantity${productNum}`);
      const quantity = parseInt(quantityElement.textContent);
      
      // Get the base image if no color is selected
      let productImage = product.querySelector('.product-image img').src;
      
      // Create new cart item
      const cartItem = {
        productId: productId,
        quantity: quantity,
        color: selectedColor,
        size: selectedSize,
        price: productConfigs[productId].basePrice,
        itemId: generateItemId(),
        baseImage: productImage
      };
      
      // Add to cart
      cart.push(cartItem);
      
      // Reset the quantity display to 1
      quantityElement.textContent = '1';
      
      // Update the cart display
      updateCartDisplay();
      
      // Show simplified notification message
      showCartNotification(`${productConfigs[productId].name} Added`);
      
      // Update floating cart button
      updateFloatingCart();
    }
    
    
    
    // Add an enhanced initialization function to document load
    document.addEventListener('DOMContentLoaded', function() {
      // Run original init
      initializeCart();
      
      // Add CSS for the new buttons
      const style = document.createElement('style');
      document.head.appendChild(style);
      
      // Initialize the app with proper page setup
      initializeApp();
      
      // Add a small delay to ensure everything is properly set up
      setTimeout(setupProductIntegration, 500);
    });
  </script>
  
  <script>
    // Whatsapp Button
    //functions to handle the close buttons
    function hideWhatsappButton(event) {
      event.stopPropagation();
      document.getElementById('whatsappButton').style.display = 'none';
    }
    
    // Whatsapp message animations handle
    window.addEventListener("load", function() {
      const messageBox = document.getElementById("messageBox");
      const whatsappButton = document.getElementById("whatsappButton");
      
      setTimeout(function() {
        if (whatsappButton) {
          whatsappButton.classList.add('whatsapp-bounce');
        }
      }, 1000);
      
      setTimeout(function() {
        if (messageBox) {
          messageBox.style.opacity = "1";
          messageBox.style.transform = "scale(1) translateX(0)";
          
          setTimeout(function() {
            messageBox.style.opacity = "0";
            messageBox.style.transform = "scale(0.9) translateX(20px)";
          }, 3000);
        }
      }, 2000);
    });
    document.getElementById("whatsappButton").addEventListener("animationend", function() {
      this.classList.remove('whatsapp-bounce');
    });
    // Whatsapp Button
  </script>
  
  <script>
    // Product Slide Panel functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Get panel elements
      const panel = document.getElementById('productSlidePanel');
      const overlay = document.querySelector('.panel-overlay');
      const closeBtn = panel.querySelector('.close-panel');
      const panelImg = document.getElementById('panelImage');
      const prevBtn = panel.querySelector('.prev-panel-image');
      const nextBtn = panel.querySelector('.next-panel-image');
      const panelProductName = document.getElementById('panelProductName');
      const panelOriginalPrice = document.getElementById('panelOriginalPrice');
      const panelDiscountedPrice = document.getElementById('panelDiscountedPrice');
      const panelColorOptions = document.getElementById('panelColorOptions');
      const panelSizeOptions = document.getElementById('panelSizeOptions');
      const panelDescription = document.getElementById('panelDescription');
      
      // Track current product and images
      let currentProductId = '';
      let currentProductImages = [];
      let currentImageIndex = 0;
      let panelQuantityValue = 1;
      
      
      
      // Function to collect all product images
      function getProductImages(productId) {
        const mainImage = document.querySelector(`#${productId} .product-image img`).src;
        const colorOptions = document.querySelectorAll(`#${productId} .color-option`);
        
        // Start with the main image
        const images = [mainImage];
        
        // Add all color preview images if they're different from what's already in the array
        colorOptions.forEach(option => {
          const previewImage = option.getAttribute('data-preview-image');
          if (previewImage && !images.includes(previewImage)) {
            images.push(previewImage);
          }
        });
        
        return images;
      }
      
      // Function to update the panel with the current image
      function updatePanelImage() {
        panelImg.src = currentProductImages[currentImageIndex];
      }
      
      
      
      
      
      
      // Function to populate color options
      // Function to populate color options
      function populateColorOptions(productId) {
        // Clear existing options
        panelColorOptions.innerHTML = '';
        
        // Get color options from the main page
        const colorOptions = document.querySelectorAll(`#${productId} .color-option`);
        
        // If no color options, add a placeholder or hide the section
        if (colorOptions.length === 0) {
          panelColorOptions.closest('.panel-options-section').style.display = 'none';
          return;
        } else {
          panelColorOptions.closest('.panel-options-section').style.display = 'block';
        }
        
        colorOptions.forEach(option => {
          const colorCircle = document.createElement('div');
          colorCircle.classList.add('panel-color-option');
          
          // Copy attributes from the original color option
          const color = option.getAttribute('data-color');
          const circleImage = option.getAttribute('data-circle-image');
          const previewImage = option.getAttribute('data-preview-image');
          
          colorCircle.setAttribute('data-color', color);
          colorCircle.setAttribute('data-preview-image', previewImage);
          colorCircle.style.backgroundImage = `url('${circleImage}')`;
          
          if (option.classList.contains('selected')) {
            colorCircle.classList.add('selected');
          }
          
          // Add click event
          colorCircle.addEventListener('click', function() {
            // Remove selected class from all options
            panelColorOptions.querySelectorAll('.panel-color-option').forEach(opt => {
              opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            this.classList.add('selected');
            
            // Update main image
            panelImg.src = previewImage;
            
            // Also update the product page image and selection
            selectColor(productId, color);
          });
          
          panelColorOptions.appendChild(colorCircle);
        });
      }
      
      
      
      
      
      
      
      
      // Function to populate size options
      function populateSizeOptions(productId) {
        // Clear existing options
        panelSizeOptions.innerHTML = '';
        
        // Get size options from the main page
        const sizeOptions = document.querySelectorAll(`#${productId} .size-option`);
        
        sizeOptions.forEach(option => {
          const sizeBtn = document.createElement('div');
          sizeBtn.classList.add('panel-size-option');
          
          // Copy attributes from the original size option
          const size = option.getAttribute('data-size');
          sizeBtn.setAttribute('data-size', size);
          sizeBtn.textContent = size;
          
          if (option.classList.contains('selected')) {
            sizeBtn.classList.add('selected');
          }
          
          // Add click event
          sizeBtn.addEventListener('click', function() {
            // Remove selected class from all options
            panelSizeOptions.querySelectorAll('.panel-size-option').forEach(opt => {
              opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            this.classList.add('selected');
            
            // Also update the product page selection
            selectSize(productId, size);
          });
          
          panelSizeOptions.appendChild(sizeBtn);
        });
      }
      
      // Function to open panel with product details - Make it globally accessible
      window.openProductPanel = function(productId) {
        currentProductId = productId;
        
        // Get product info
        const productContainer = document.getElementById(productId);
        const productName = productContainer.querySelector('.product-name').textContent;
        const originalPrice = productContainer.querySelector('.original-price').textContent;
        const discountedPrice = productContainer.querySelector('.discounted-price').textContent;
        
        // Set product info in panel
        panelProductName.textContent = productName;
        panelOriginalPrice.textContent = originalPrice;
        panelDiscountedPrice.textContent = discountedPrice;
        
        
        // Find where it says "Set description" in openProductPanel function
        // Add this right before it:
        const sizeChartImg = document.querySelector('.panel-size-chart img');
        if (productSizeCharts[productId]) {
          sizeChartImg.src = productSizeCharts[productId];
          document.querySelector('.panel-size-chart').style.display = 'block';
        } else {
          document.querySelector('.panel-size-chart').style.display = 'none';
        }
        
        
        // Set description
       panelDescription.innerHTML = productConfigs[currentProductId]?.description || 'Product description not available.';
        // Using optional chaining (?.) is safer in case a product config accidentally misses a description
        
        // Get current quantity
        const quantityDisplay = productContainer.querySelector('.quantity-display');
        if (quantityDisplay) {
          panelQuantityValue = parseInt(quantityDisplay.textContent);
          document.getElementById('panelQuantity').textContent = panelQuantityValue;
        } else {
          panelQuantityValue = 1;
          document.getElementById('panelQuantity').textContent = '1';
        }
        
        // Get all images for this product
        currentProductImages = getProductImages(productId);
        currentImageIndex = 0; // Start with the main image
        
        // Populate color and size options
        populateColorOptions(productId);
        populateSizeOptions(productId);
        
        // Show the current image
        updatePanelImage();
        
        
        
        
        
        
        // Add event handler for "Add to Cart" button
        // Add event handler for "Add to Cart" button
        document.getElementById('panelAddToCart').onclick = function() {
          // Get the current product ID from the panel's state
          const productId = currentProductId;
          
          // No longer require color selection
          const selectedColorElement = panelColorOptions.querySelector('.panel-color-option.selected');
          let selectedColor = "";
          if (selectedColorElement) {
            selectedColor = selectedColorElement.getAttribute('data-color');
          }
          
          // Validate size selection
          const selectedSizeElement = panelSizeOptions.querySelector('.panel-size-option.selected');
          if (!selectedSizeElement) {
            // Create and insert size warning message
            const sizeWarning = document.createElement('div');
            sizeWarning.className = 'size-warning';
            sizeWarning.textContent = 'Please select a size';
            sizeWarning.style.color = 'blue';
            sizeWarning.style.marginTop = '5px';
            sizeWarning.style.fontWeight = 'regular';
            
            // Insert the warning in the panel
            const warningContainer = document.querySelector('.panel-size-options');
            // Remove existing warning if any
            const existingWarning = panel.querySelector('.size-warning');
            if (existingWarning) {
              existingWarning.remove();
            }
            warningContainer.appendChild(sizeWarning);
            return;
          }
          
          const selectedSize = selectedSizeElement.getAttribute('data-size');
          
          // Get the quantity from the panel
          const quantityElement = document.getElementById('panelQuantity');
          const quantity = parseInt(quantityElement.textContent);
          
          // Update the main page quantity display
          const productNum = productId.replace('product', '');
          const mainQuantityElement = document.getElementById(`quantity${productNum}`);
          mainQuantityElement.textContent = quantity;
          
          // Get the base image
          let productImage = document.getElementById(`image-${productId}`).src;
          
          // Create cart item
          const cartItem = {
            productId: productId,
            quantity: quantity,
            color: selectedColor,
            size: selectedSize,
            price: productConfigs[productId].basePrice,
            itemId: generateItemId(),
            baseImage: productImage
          };
          
          // Add to cart
          cart.push(cartItem);
          
          // Update the cart display
          updateCartDisplay();
          
          // Show notification
          showCartNotification(`${productConfigs[productId].name} Added`);
          
          // Update floating cart
          updateFloatingCart();
          
          // Close the panel
          closePanel();
        };
        
        
        
        
        
        
        // Show panel and overlay
        panel.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden'; // Prevent scrolling
        
        // Hide navigation if only one image
        if (currentProductImages.length <= 1) {
          prevBtn.style.display = 'none';
          nextBtn.style.display = 'none';
        } else {
          prevBtn.style.display = 'flex';
          nextBtn.style.display = 'flex';
        }
      }
      
      // Function to close panel
      function closePanel() {
        panel.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto'; // Re-enable scrolling
      }
      
      // Navigate to previous image
      prevBtn.addEventListener('click', function() {
        if (currentImageIndex > 0) {
          currentImageIndex--;
        } else {
          currentImageIndex = currentProductImages.length - 1; // Loop back to the end
        }
        updatePanelImage();
      });
      
      // Navigate to next image
      nextBtn.addEventListener('click', function() {
        if (currentImageIndex < currentProductImages.length - 1) {
          currentImageIndex++;
        } else {
          currentImageIndex = 0; // Loop back to the beginning
        }
        updatePanelImage();
      });
      
      // Get all product containers
      const productContainers = document.querySelectorAll('.product-container');
      
      // Add click event to each product image
      productContainers.forEach(function(container) {
        const productId = container.id;
        const productImage = container.querySelector('.product-image img');
        
        productImage.addEventListener('click', function(e) {
          e.preventDefault(); // Prevent default behavior (full-screen modal)
          window.openProductPanel(productId);
        });
      });
      
      // Close panel when clicking the close button
      closeBtn.addEventListener('click', closePanel);
      
      // Close panel when clicking the overlay
      overlay.addEventListener('click', closePanel);
      
      // Handle keyboard navigation
      document.addEventListener('keydown', function(event) {
        if (panel.classList.contains('active')) {
          if (event.key === 'ArrowLeft') {
            prevBtn.click();
          } else if (event.key === 'ArrowRight') {
            nextBtn.click();
          } else if (event.key === 'Escape') {
            closeBtn.click();
          }
        }
      });
      
      // Add eye overlays to all product images
      function addEyeOverlayToProducts() {
        const productImages = document.querySelectorAll('.product-image');
        
        productImages.forEach(container => {
          // Create eye overlay element
          const eyeOverlay = document.createElement('div');
          eyeOverlay.className = 'eye-overlay';
          eyeOverlay.innerHTML = `
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
          </svg>
        `;
          
          // Get the product ID from the closest parent product container
          const productContainer = container.closest('.product-container');
          const productId = productContainer ? productContainer.id : null;
          
          // Add click event to the eye overlay
          eyeOverlay.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            if (productId) {
              window.openProductPanel(productId);
            }
          });
          
          // Add the overlay to the container
          container.appendChild(eyeOverlay);
        });
      }
      
      // Call function to add eye overlays
      addEyeOverlayToProducts();
    });
    
    // Function to update quantity in the panel
    function updatePanelQuantity(change) {
      const quantityElement = document.getElementById('panelQuantity');
      let quantity = parseInt(quantityElement.textContent);
      
      quantity += change;
      // Make sure quantity doesn't go below 1
      if (quantity < 1) quantity = 1;
      
      quantityElement.textContent = quantity;
    }
    // Product Slide Panel functionality
  </script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get references to key elements
      const panel = document.getElementById('productSlidePanel');
      
      // Modify the existing panel Add to Cart button handler
      document.getElementById('panelAddToCart').onclick = function() {
        // Get the current product ID from the panel's state
        const productId = currentProductId;
        
        // Validate color selection
        const selectedColorElement = panelColorOptions.querySelector('.panel-color-option.selected');
        if (!selectedColorElement) {
          alert('Please select a color before adding to cart.');
          return;
        }
        
        // Validate size selection
        const selectedSizeElement = panelSizeOptions.querySelector('.panel-size-option.selected');
        if (!selectedSizeElement) {
          alert('Please select a size before adding to cart.');
          return;
        }
        
        // Get selected color and size
        const selectedColor = selectedColorElement.getAttribute('data-color');
        const selectedSize = selectedSizeElement.getAttribute('data-size');
        
        // Get the quantity from the panel
        const quantityElement = document.getElementById('panelQuantity');
        const quantity = parseInt(quantityElement.textContent);
        
        // Update the main page quantity display
        const productNum = productId.replace('product', '');
        const mainQuantityElement = document.getElementById(`quantity${productNum}`);
        mainQuantityElement.textContent = quantity;
        
        // Update the color and size selection on the main page
        const mainProductContainer = document.getElementById(productId);
        
        // Update color selection
        const mainColorOptions = mainProductContainer.querySelectorAll('.color-option');
        mainColorOptions.forEach(option => {
          option.classList.remove('selected');
          if (option.getAttribute('data-color') === selectedColor) {
            option.classList.add('selected');
          }
        });
        
        // Update size selection
        const mainSizeOptions = mainProductContainer.querySelectorAll('.size-option');
        mainSizeOptions.forEach(option => {
          option.classList.remove('selected');
          if (option.getAttribute('data-size') === selectedSize) {
            option.classList.add('selected');
          }
        });
        
        // Call the main addToCart function
        addToCart(productId);
        
        // Close the panel
        closePanel();
      };
    });
    
    
    function selectSize(productId, size) {
      const product = document.getElementById(productId);
      const sizeOptions = product.querySelectorAll('.size-option');
      
      sizeOptions.forEach(option => {
        option.classList.remove('selected');
        if (option.getAttribute('data-size') === size) {
          option.classList.add('selected');
        }
      });
    }
  </script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Find the existing panel "Add to Cart" button
      const panelAddToCartBtn = document.getElementById('panelAddToCart');
      
      // Modify the "Add to Cart" event handler to use the main addToCart function
      panelAddToCartBtn.addEventListener('click', function() {
        // Ensure we have a current product selected
        if (!currentProductId) {
          alert('No product selected');
          return;
        }
        
        // Call the main addToCart function with the current product ID
        addToCart(currentProductId);
        
        // Close the panel after adding to cart
        closePanel();
      });
    });
    
    // Ensure these functions are added to match the existing panel script
    function updatePanelQuantity(change) {
      const quantityElement = document.getElementById('panelQuantity');
      let quantity = parseInt(quantityElement.textContent);
      
      quantity += change;
      // Make sure quantity doesn't go below 1
      if (quantity < 1) quantity = 1;
      
      quantityElement.textContent = quantity;
      
      // Update the quantity on the main product page
      if (currentProductId) {
        const productNum = currentProductId.replace('product', '');
        const mainQuantityElement = document.getElementById(`quantity${productNum}`);
        if (mainQuantityElement) {
          mainQuantityElement.textContent = quantity;
        }
      }
    }
  </script>
  
  <script>
    // Eye icons to all product images
    // Function to add eye icons to all product images
    function addViewDetailsIcons() {
      const productContainers = document.querySelectorAll('.product-container');
      
      productContainers.forEach(function(container) {
        const productId = container.id;
        const productImageContainer = container.querySelector('.product-image');
        
        // Create eye icon element
        const eyeIcon = document.createElement('div');
        eyeIcon.classList.add('view-details-icon');
        eyeIcon.setAttribute('title', 'View details');
        eyeIcon.setAttribute('aria-label', 'View product details');
        
        // Add click event to the eye icon
        eyeIcon.addEventListener('click', function(e) {
          e.stopPropagation(); // Prevent event from bubbling up
          openProductPanel(productId);
        });
        
        // Add the eye icon to the product image container
        productImageContainer.appendChild(eyeIcon);
      });
    }
    
    // Eye icons to all product images
  </script>
  
  
  
  <script>
    //Eye image over product
    document.addEventListener('DOMContentLoaded', function() {
      // First add the eye overlay to all product images
      function addEyeOverlayToProducts() {
        const productImages = document.querySelectorAll('.product-image');
        
        productImages.forEach(container => {
          // Create eye overlay element
          const eyeOverlay = document.createElement('div');
          eyeOverlay.className = 'eye-overlay';
          eyeOverlay.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
            `;
          
          // Get the product ID from the closest parent product container
          const productContainer = container.closest('.product-container');
          const productId = productContainer ? productContainer.id : null;
          
          // Add click event to the eye overlay that uses your existing openProductPanel function
          eyeOverlay.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            if (productId && window.openProductPanel) {
              window.openProductPanel(productId);
            }
          });
          
          // Add the overlay to the container
          container.appendChild(eyeOverlay);
        });
      }
      
      // Call the function to add eye overlays
      addEyeOverlayToProducts();
    });
  </script>
  
  </form>
</body>




<body>
  <!-- Product Slide Panel -->
  <div class="panel-overlay"></div>
  <div id="productSlidePanel" class="product-slide-panel">
    <div class="panel-header">
      <h2 class="panel-title">Product Details</h2>
      <button class="close-panel">√ó</button>
    </div>
    
    <!-- Product image section -->
    <div class="panel-image-container">
      <img id="panelImage" class="panel-image" src="" alt="Product Image">
      <button class="panel-nav prev-panel-image">‚ùÆ</button>
      <button class="panel-nav next-panel-image">‚ùØ</button>
    </div>
    
    <!-- Thumbnails section removed -->
    
    <!-- Product details section -->
    <div class="panel-product-details">
      <h3 id="panelProductName" class="panel-product-name"></h3>
      
      <div class="panel-product-price">
        <span id="panelOriginalPrice" class="panel-original-price"></span>
        <span id="panelDiscountedPrice" class="panel-discounted-price"></span>
      </div>
      
      <!-- Color options -->
      <div class="panel-options-section">
        <div class="panel-options-title">Colour:</div>
        <div id="panelColorOptions" class="panel-color-options">
          <!-- Color options will be added dynamically -->
        </div>
      </div>
      
      <!-- Size options -->
      <div class="panel-options-section">
        <div class="panel-options-title">Size:</div>
        <div id="panelSizeOptions" class="panel-size-options">
          <!-- Size options will be added dynamically -->
        </div>
      </div>
      
      <!-- Add to cart section -->
      <div class="panel-actions">
        <div class="panel-quantity">
          <div class="panel-quantity-btn" onclick="updatePanelQuantity(-1)">‚àí</div>
          <div id="panelQuantity" class="panel-quantity-display">1</div>
          <div class="panel-quantity-btn" onclick="updatePanelQuantity(1)">+</div>
          <div id="panelAddToCart" class="panel-add-to-cart">Add to Cart</div>
        </div>
      </div>
      
      
      
      <!-- Size chart -->
      <div class="panel-size-chart" style="display: none;">
        <img src="" alt="Size Chart">
        <!-- Size chart will be dynamically added here -->
      </div>
      
      <!-- Product description - could be loaded dynamically or hardcoded -->
      <div class="panel-description">
        <div class="description-title">Description:</div>
        <div id="panelDescription"></div>
        <!-- Product description will be added here -->
      </div>
    </div>
    
  </div>
</body>

</html>
